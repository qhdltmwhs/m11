###
### ğŸš€ EC2 ë°°í¬ í…ŒìŠ¤íŠ¸ (AWS S3 ì´ë¯¸ì§€ ì—…ë¡œë“œ í¬í•¨)
###

@host = 52.78.206.41
@accessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzMyMDgwMCwiZXhwIjoxNzYzMzI0NDAwfQ.j3rXjk3-6oah558duGrSanI8ybcqNFIcZbpDrBqdMQ0

###
### ========================
### ğŸ”¹ System
### ========================

###
### ğŸŸ¢ Health Check
GET http://{{host}}/health

###
### ğŸŸ¢ API ëª©ë¡
GET http://{{host}}/

###
### ========================
### ğŸ”¹ Auth
### ========================

###
### ğŸŸ¢ íšŒì›ê°€ì…
POST http://{{host}}/auth/signup
Content-Type: application/json

{
    "email": "mone@example.com",
    "nickname": "mone",
    "password": "mone1234"
}

###
### ğŸŸ¢ ë¡œê·¸ì¸
# @name login
POST http://{{host}}/auth/login
Content-Type: application/json

{
    "email": "mone@example.com",
    "password": "mone1234"
}

###
### ğŸ”¸ ë¡œê·¸ì¸ í›„ ìë™ìœ¼ë¡œ í† í° ì €ì¥
@accessToken = {{login.response.body.data.accessToken}}

###
### ğŸŸ¢ í† í° ê°±ì‹ 
POST http://{{host}}/auth/refresh
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ë¡œê·¸ì•„ì›ƒ
POST http://{{host}}/auth/logout
Authorization: Bearer {{accessToken}}

###
### ========================
### ğŸ”¹ Users
### ========================

###
### ğŸŸ¢ ë‚´ í”„ë¡œí•„ ì¡°íšŒ
GET http://{{host}}/users/profile
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ í”„ë¡œí•„ ìˆ˜ì • (ë‹‰ë„¤ì„ë§Œ)
PUT http://{{host}}/users/me
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "nickname": "mone_updated"
}

###
### ğŸŸ¢ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
PUT http://{{host}}/users/me/password
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "currentPassword": "mone1234",
    "newPassword": "nemo1234"
}

###
### ğŸŸ¢ ë‚´ ìƒí’ˆ ëª©ë¡
GET http://{{host}}/users/me/products
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ë‚´ê°€ ì¢‹ì•„ìš”í•œ ìƒí’ˆ ëª©ë¡
GET http://{{host}}/users/me/likes/products
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ë‚´ê°€ ì¢‹ì•„ìš”í•œ ê²Œì‹œê¸€ ëª©ë¡
GET http://{{host}}/users/me/likes/posts
Authorization: Bearer {{accessToken}}

###
### ========================
### ğŸ”¹ Images (S3 Upload)
### ========================

###
### ğŸŸ¢ ì´ë¯¸ì§€ ì—…ë¡œë“œ (S3)
# @name uploadImage
POST http://{{host}}/images/upload
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="image"; filename="NewJeans.jpeg"
Content-Type: image/jpeg

< ./NewJeans.jpeg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###
### ğŸ”¸ ì—…ë¡œë“œëœ ì´ë¯¸ì§€ URL ìë™ ì €ì¥
@imageUrl = {{uploadImage.response.body.data.imageUrl}}

###
### ğŸŸ¢ í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ (ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ ì‚¬ìš©)
PUT http://{{host}}/users/me
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "image": "{{imageUrl}}"
}

###
### ğŸŸ¢ í”„ë¡œí•„ ì´ë¯¸ì§€ + ë‹‰ë„¤ì„ ë™ì‹œ ì—…ë°ì´íŠ¸
PUT http://{{host}}/users/me
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "nickname": "MoneDev",
    "image": "{{imageUrl}}"
}

###
### ========================
### ğŸ”¹ Products
### ========================

###
### ğŸŸ¢ ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
GET http://{{host}}/products

###
### ğŸŸ¢ ìƒí’ˆ ë“±ë¡
# @name createProduct
POST http://{{host}}/products
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "name": "í”„ë¦¬ë¯¸ì—„ ë¬´ì„  í—¤ë“œí°",
    "description": "ìµœê³ ì˜ ìŒì§ˆê³¼ í¸ì•ˆí•¨ ì œê³µ",
    "price": 299000,
    "tags": ["í—¤ë“œí°", "ë¬´ì„ ", "ë…¸ì´ì¦ˆìº”ìŠ¬ë§"]
}

###
### ğŸ”¸ ìƒì„±ëœ ìƒí’ˆ ID ìë™ ì €ì¥
@productId = {{createProduct.response.body.data.id}}

###
### ğŸŸ¢ ìƒí’ˆ ìƒì„¸ ì¡°íšŒ
GET http://{{host}}/products/{{productId}}
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ìƒí’ˆ ìˆ˜ì •
PUT http://{{host}}/products/{{productId}}
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "name": "í”„ë¦¬ë¯¸ì—„ ë¬´ì„  í—¤ë“œí° Pro",
    "description": "ë…¸ì´ì¦ˆ ìº”ìŠ¬ë§ + í”„ë¦¬ë¯¸ì—„ ì‚¬ìš´ë“œ",
    "price": 399000,
    "tags": ["í—¤ë“œí°", "ë¬´ì„ ", "í”„ë¦¬ë¯¸ì—„"]
}

###
### ğŸŸ¢ ìƒí’ˆ ì¢‹ì•„ìš” í† ê¸€
POST http://{{host}}/products/{{productId}}/likes
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ìƒí’ˆ ëŒ“ê¸€ ì‘ì„±
POST http://{{host}}/products/{{productId}}/comments
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "content": "ì •ë§ ì¢‹ì€ ìƒí’ˆì´ë„¤ìš”!"
}

###
### ğŸŸ¢ ìƒí’ˆ ëŒ“ê¸€ ëª©ë¡
GET http://{{host}}/products/{{productId}}/comments

###
### ğŸŸ¢ ìƒí’ˆ ì‚­ì œ
DELETE http://{{host}}/products/{{productId}}
Authorization: Bearer {{accessToken}}

###
### ========================
### ğŸ”¹ Posts
### ========================

###
### ğŸŸ¢ ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
GET http://{{host}}/posts

###
### ğŸŸ¢ ê²Œì‹œê¸€ ë“±ë¡
# @name createPost
POST http://{{host}}/posts
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "title": "ì²« ë²ˆì§¸ ê²Œì‹œê¸€",
    "content": "ì•ˆë…•í•˜ì„¸ìš”! EC2 ë°°í¬ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤."
}

###
### ğŸ”¸ ìƒì„±ëœ ê²Œì‹œê¸€ ID ìë™ ì €ì¥
@postId = {{createPost.response.body.data.id}}

###
### ğŸŸ¢ ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
GET http://{{host}}/posts/{{postId}}
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ê²Œì‹œê¸€ ìˆ˜ì •
PUT http://{{host}}/posts/{{postId}}
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "title": "ìˆ˜ì •ëœ ê²Œì‹œê¸€",
    "content": "ë‚´ìš©ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
}

###
### ğŸŸ¢ ê²Œì‹œê¸€ ì¢‹ì•„ìš” í† ê¸€
POST http://{{host}}/posts/{{postId}}/likes
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ê²Œì‹œê¸€ ëŒ“ê¸€ ì‘ì„±
POST http://{{host}}/posts/{{postId}}/comments
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "content": "ì¢‹ì€ ê¸€ ê°ì‚¬í•©ë‹ˆë‹¤!"
}

###
### ğŸŸ¢ ê²Œì‹œê¸€ ëŒ“ê¸€ ëª©ë¡
GET http://{{host}}/posts/{{postId}}/comments

###
### ğŸŸ¢ ê²Œì‹œê¸€ ì‚­ì œ
DELETE http://{{host}}/posts/{{postId}}
Authorization: Bearer {{accessToken}}

###
### ========================
### ğŸ”¹ Comments
### ========================

###
### ğŸŸ¢ ëŒ“ê¸€ ìƒì„¸ ì¡°íšŒ
GET http://{{host}}/comments/1

###
### ğŸŸ¢ ëŒ“ê¸€ ìˆ˜ì •
PUT http://{{host}}/comments/1
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "content": "ìˆ˜ì •ëœ ëŒ“ê¸€ì…ë‹ˆë‹¤."
}

###
### ğŸŸ¢ ëŒ“ê¸€ ì‚­ì œ
DELETE http://{{host}}/comments/1
Authorization: Bearer {{accessToken}}

###
### ========================
### ğŸ”¹ Notifications
### ========================

###
### ğŸŸ¢ ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ
GET http://{{host}}/notifications
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ì•ˆ ì½ì€ ì•Œë¦¼ ê°œìˆ˜
GET http://{{host}}/notifications/unread-count
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ íŠ¹ì • ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬
PUT http://{{host}}/notifications/1/read
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ëª¨ë“  ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬
PUT http://{{host}}/notifications/read-all
Authorization: Bearer {{accessToken}}
