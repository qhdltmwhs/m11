###
### ğŸ§‘ User API Tests
###

@baseUrl = http://localhost:3000
@accessToken =
@imageUrl =

###
### ========================
### ğŸ”¹ Auth
### ========================

###
### ğŸŸ¢ íšŒì›ê°€ì…
POST {{baseUrl}}/auth/signup
Content-Type: application/json

{
    "email": "mone@example.com",
    "nickname": "mone",
    "password": "mone1234"
}

###
### ğŸŸ¢ ë¡œê·¸ì¸
# @name userLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
    "email": "mone@example.com",
    "password": "mone1234"
}

###
### ğŸ”¸ ë¡œê·¸ì¸ í›„ ìë™ìœ¼ë¡œ í† í° ì €ì¥
@accessToken = {{userLogin.response.body.data.accessToken}}

###
### ========================
### ğŸ”¹ Images
### ========================

###
### ğŸŸ¢ ì´ë¯¸ì§€ ì—…ë¡œë“œ
# @name uploadImage
POST {{baseUrl}}/images/upload
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="image"; filename="NewJeans.jpeg"
Content-Type: image/jpeg

< ./http/NewJeans.jpeg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###
### ğŸ”¸ ì—…ë¡œë“œëœ ì´ë¯¸ì§€ URL ìë™ ì €ì¥
@imageUrl = {{uploadImage.response.body.data.imageUrl}}

###
### ========================
### ğŸ”¹ User Profile
### ========================

###
### ğŸŸ¢ ìœ ì € ì •ë³´ ì¡°íšŒ
GET {{baseUrl}}/users/profile
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ìœ ì € ì •ë³´ ìˆ˜ì • - ë‹‰ë„¤ì„ë§Œ
PUT {{baseUrl}}/users/me
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "nickname": "mone"
}

###
### ğŸŸ¢ ìœ ì € í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ (ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ ì‚¬ìš©)
PUT {{baseUrl}}/users/me
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "image": "{{imageUrl}}"
}

###
### ğŸŸ¢ ìœ ì € í”„ë¡œí•„ ì´ë¯¸ì§€ + ë‹‰ë„¤ì„ ë™ì‹œ ì—…ë°ì´íŠ¸
PUT {{baseUrl}}/users/me
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "nickname": "MoneDev",
    "image": "{{imageUrl}}"
}

###
### ğŸŸ¢ ìœ ì € ì •ë³´ ì¡°íšŒ - í”„ë¡œí•„ ì´ë¯¸ì§€ í™•ì¸
GET {{baseUrl}}/users/profile
Authorization: Bearer {{accessToken}}

###
### ========================
### ğŸ”¹ Password
### ========================

###
### ğŸŸ¢ ìœ ì € ì •ë³´ íŒ¨ìŠ¤ì›Œë“œ ë³€ê²½
PUT {{baseUrl}}/users/me/password
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "currentPassword": "mone1234",
    "newPassword": "nemo1234"
}

###
### ========================
### ğŸ”¹ User Likes & Products
### ========================

###
### ğŸŸ¢ ìœ ì € ì¢‹ì•„ìš” ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
GET {{baseUrl}}/users/me/likes/posts
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ìœ ì € ì¢‹ì•„ìš” ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
GET {{baseUrl}}/users/me/likes/products
Authorization: Bearer {{accessToken}}

###
### ğŸŸ¢ ìœ ì € ë“±ë¡ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
GET {{baseUrl}}/users/me/products
Authorization: Bearer {{accessToken}}
